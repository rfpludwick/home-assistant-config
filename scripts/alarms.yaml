# Disarm
alarms_disarm:
  sequence:
    - service: script.turn_on
      data:
         entity_id: script.alarms_kill_away_timers
    - service: alarm_control_panel.alarm_disarm
      data:
        entity_id: alarm_control_panel.scout_alarm
    - service: alarm_control_panel.alarm_disarm
      data:
        entity_id: alarm_control_panel.vierarlo

# Away
alarms_arm_away:
  sequence:
    - service: script.turn_on
      data:
         entity_id: script.alarms_kill_away_timers
    - service: alarm_control_panel.alarm_arm_away
      data:
        entity_id: alarm_control_panel.scout_alarm
    - service: script.turn_on
      data:
        entity_id:
          - script.alarms_arm_away_arlo
          - script.alarms_arm_away_lights
alarms_arm_away_arlo:
  sequence:
    - delay:
        minutes: 5
    - service: alarm_control_panel.alarm_arm_away
      data:
        entity_id: alarm_control_panel.vierarlo
alarms_arm_away_lights:
  sequence:
    - service: light.turn_on
      data:
        entity_id: group.all_lights
        transition: 3
        color_name: red
        brightness_pct: 100
    - wait_template: "{{ is_state('group.all_lights', 'on') }}"
    - service: light.turn_off
      data:
        entity_id: group.all_lights
        transition: 3
    - wait_template: "{{ is_state('group.all_lights', 'off') }}"
    - service: light.turn_on
      data:
        entity_id: group.all_lights
        transition: 3
    - wait_template: "{{ is_state('group.all_lights', 'on') }}"
    - service: light.turn_off
      data:
        entity_id: group.all_lights
        transition: 3
    - wait_template: "{{ is_state('group.all_lights', 'off') }}"
    - service: light.turn_on
      data:
        entity_id: group.all_lights
        transition: 3
    - wait_template: "{{ is_state('group.all_lights', 'on') }}"
    - service: light.turn_off
      data:
        entity_id: group.all_lights
        transition: 3

# Home
alarms_arm_home:
  sequence:
    - service: script.turn_on
      data:
         entity_id: script.alarms_kill_away_timers
    - service: alarm_control_panel.alarm_arm_home
      data:
        entity_id: alarm_control_panel.scout_alarm
    - service: alarm_control_panel.alarm_arm_home
      data:
        entity_id: alarm_control_panel.vierarlo

# Night
alarms_arm_night:
  sequence:
    - service: script.turn_on
      data:
         entity_id: script.alarms_kill_away_timers
    - service: alarm_control_panel.alarm_arm_night
      data:
        entity_id: alarm_control_panel.scout_alarm
    - service: alarm_control_panel.alarm_arm_night
      data:
        entity_id: alarm_control_panel.vierarlo

# Kill Away Timers
alarms_kill_away_timers:
  sequence:
    - service: script.turn_off
      data:
         entity_id:
           - script.alarms_arm_away_arlo
           - script.alarms_arm_away_lights
